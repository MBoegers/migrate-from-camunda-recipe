project:
  name: Operaton - Migrate from Camunda Recipe
  description: An Open Rewrite Recipe to migrate a Camunda 7 Instance to Operaton
  version: @release.version@

release:
  # https://jreleaser.org/guide/latest/reference/release/github.html
  github:
    owner: operaton
    repo: {{repoName}}
    token: {{ secrets.GITHUB_TOKEN }}
    draft: false
    overwrite: false
    skip_tag: false
    releaseName: Release {{tagName}}
    prerelease:
      enabled: true
    commitAuthor:
      name: github-actions[bot]
      email: github-actions[bot]@users.noreply.github.com
    issues:
      enabled: true
      comment: 'üéâ This issue has been resolved in `{{tagName}}` ([Release Notes]({{releaseNotesUrl}}))'
      applyMilestone: ALWAYS

distributions:
  recipe:
    artifacts:
      - path: migrate-camunda-recipe-{{projectVersion}}.jar

checksum:
  algorithms: [ SHA-256, SHA-512 ]

# https://jreleaser.org/guide/latest/examples/maven/maven-central.html
deploy:
  maven:
    nexus2:
      maven-central:
        active: ALWAYS
        url: https://s01.oss.sonatype.org/service/local
        snapshotUrl: https://s01.oss.sonatype.org/content/repositories/snapshots/
        closeRepository: true
        releaseRepository: false
        stagingRepositories:
          - target/staging-deploy

changelog:
  enabled: true
  sort: ASC
  links: true
  skipMergeCommits: true
  formatted: ALWAYS
  preset: conventional-commits
  categories:
    - title: 'üöÄ Features'
      # Used for identifying the category
      key: 'features'
      labels:
        - 'feature'
        - 'enhancement'
      order: 1
    - title: 'üêõ Bug Fixes'
      key: 'fixes'
      # You may override the format per category.
      labels:
        - 'bug'
        - 'fix'
      order: 2
    - title: 'üìñ Documentation'
      key: 'documentation'
      # You may override the format per category.
      labels:
        - 'documenation'
      order: 3

catalog:
  sbom:
    active: ALWAYS


signing:
  active: RELEASE
  armored: true
  passphrase: { { secrets.GPG_PASSPHRASE } }
  # valid until 2027-10-16
  publicKey: { { secrets.GPG_PUBLIC_KEY } }
  secretKey: { { secrets.GPG_SECRET_KEY } }
